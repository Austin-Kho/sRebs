# Generated by Django 3.1.5 on 2021-01-16 13:00

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('rebs', '0001_initial'),
        ('rebs_company', '0001_initial'),
        ('rebs_contract', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='ContractUnit',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unit_code', models.CharField(max_length=8, verbose_name='코드번호')),
                ('contract', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='rebs_contract.contract', verbose_name='계약')),
            ],
            options={
                'verbose_name': '04. 계약 유닛',
                'verbose_name_plural': '04. 계약 유닛',
                'ordering': ['unit_code', '-project'],
            },
        ),
        migrations.CreateModel(
            name='Project',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=30, verbose_name='프로젝트명')),
                ('start_year', models.CharField(max_length=4, verbose_name='사업개시년도')),
                ('kind', models.CharField(choices=[('1', '공동주택(아파트)'), ('2', '공동주택(타운하우스)'), ('3', '주상복합(아파트)'), ('4', '주상복합(오피스텔)'), ('5', '근린생활시설'), ('6', '생활형숙박시설'), ('7', '지식산업센터'), ('8', '기타')], max_length=2, verbose_name='프로젝트종류')),
                ('is_direct_manage', models.BooleanField(default=False, help_text='본사 직접 운영하는 프로젝트인 경우 체크', verbose_name='직영운영여부')),
                ('is_returned_area', models.BooleanField(default=False, help_text='환지방식 도시개발사업구역인 경우 체크', verbose_name='토지환지여부')),
                ('is_unit_set', models.BooleanField(default=False, help_text='동호수를 지정하지 않는 경우 체크하지 않음', verbose_name='동호지정여부')),
                ('local_zipcode', models.CharField(blank=True, max_length=5, verbose_name='우편번호')),
                ('local_address1', models.CharField(blank=True, max_length=50, verbose_name='주소')),
                ('local_address2', models.CharField(blank=True, max_length=25, verbose_name='상세주소')),
                ('local_address3', models.CharField(blank=True, max_length=20, verbose_name='참고항목')),
                ('buy_land_extent', models.DecimalField(blank=True, decimal_places=4, max_digits=12, null=True, verbose_name='대지매입면적')),
                ('donation_land_extent', models.DecimalField(blank=True, decimal_places=4, max_digits=11, null=True, verbose_name='기부채납면적')),
                ('scheme_land_extent', models.DecimalField(blank=True, decimal_places=4, max_digits=12, null=True, verbose_name='계획대지면적')),
                ('area_usage', models.CharField(blank=True, max_length=50, verbose_name='용도지역지구')),
                ('build_size', models.CharField(blank=True, max_length=50, verbose_name='건축규모')),
                ('num_unit', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='세대(호/실)수')),
                ('build_area', models.DecimalField(blank=True, decimal_places=4, max_digits=11, null=True, verbose_name='건축면적')),
                ('total_floor_area', models.DecimalField(blank=True, decimal_places=4, max_digits=12, null=True, verbose_name='총 연면적')),
                ('on_floor_area', models.DecimalField(blank=True, decimal_places=4, max_digits=12, null=True, verbose_name='지상연면적')),
                ('under_floor_area', models.DecimalField(blank=True, decimal_places=4, max_digits=11, null=True, verbose_name='지하연면적')),
                ('floor_area_ratio', models.DecimalField(blank=True, decimal_places=4, max_digits=7, null=True, verbose_name='용적율')),
                ('build_to_land_ratio', models.DecimalField(blank=True, decimal_places=4, max_digits=6, null=True, verbose_name='건폐율')),
                ('num_legal_parking', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='법정주차대수')),
                ('num_planed_parking', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='계획주차대수')),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='rebs_company.company', verbose_name='회사정보')),
            ],
            options={
                'verbose_name': '01. 프로젝트',
                'verbose_name_plural': '01. 프로젝트',
                'ordering': ['-start_year', 'id'],
            },
        ),
        migrations.CreateModel(
            name='Site',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order', models.PositiveSmallIntegerField(verbose_name='순서')),
                ('district', models.CharField(max_length=10, verbose_name='행정동')),
                ('lot_number', models.CharField(max_length=10, verbose_name='지번')),
                ('site_purpose', models.CharField(max_length=10, verbose_name='지목')),
                ('official_area', models.DecimalField(decimal_places=4, max_digits=10, verbose_name='대지면적')),
                ('returned_area', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='환지면적')),
                ('rights_restrictions', models.TextField(blank=True, null=True, verbose_name='권리제한사항')),
                ('dup_issue_date', models.DateField(blank=True, null=True, verbose_name='등본발급일')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='등록일')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='rebs_project.project', verbose_name='프로젝트')),
            ],
            options={
                'verbose_name': '07. 사업부지 목록',
                'verbose_name_plural': '07. 사업부지 목록',
                'ordering': ('order', 'lot_number', '-project'),
            },
        ),
        migrations.CreateModel(
            name='SiteOwner',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('owner', models.CharField(max_length=10, verbose_name='소유자')),
                ('date_of_birth', models.DateField(blank=True, null=True, verbose_name='생년월일')),
                ('phone1', models.CharField(max_length=13, verbose_name='주연락처')),
                ('phone2', models.CharField(blank=True, max_length=13, null=True, verbose_name='비상연락처')),
                ('zipcode', models.CharField(blank=True, max_length=5, null=True, verbose_name='우편번호')),
                ('address1', models.CharField(blank=True, max_length=50, null=True, verbose_name='주소')),
                ('address2', models.CharField(blank=True, max_length=25, null=True, verbose_name='상세주소')),
                ('address3', models.CharField(blank=True, max_length=25, null=True, verbose_name='참고항목')),
                ('own_sort', models.CharField(choices=[('1', '개인'), ('2', '법인'), ('3', '국공유지')], max_length=1, verbose_name='소유구분')),
                ('counsel_record', models.TextField(blank=True, null=True, verbose_name='상담기록')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='등록일')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='rebs_project.project', verbose_name='프로젝트')),
                ('register', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='등록자')),
            ],
            options={
                'verbose_name': '08. 사업부지 소유자',
                'verbose_name_plural': '08. 사업부지 소유자',
                'ordering': ('-id',),
            },
        ),
        migrations.CreateModel(
            name='UnitFloorType',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_floor', models.PositiveIntegerField(verbose_name='시작 층')),
                ('end_floor', models.PositiveIntegerField(verbose_name='종료 층')),
                ('alias_name', models.CharField(max_length=50, verbose_name='층별 범위 명칭')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='rebs_project.project', verbose_name='프로젝트')),
            ],
            options={
                'verbose_name': '03. 층별 조건',
                'verbose_name_plural': '03. 층별 조건',
                'ordering': ['-project', 'id'],
            },
        ),
        migrations.CreateModel(
            name='UnitType',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=10, verbose_name='타입명칭')),
                ('color', models.CharField(max_length=7, verbose_name='타입색상')),
                ('average_price', models.PositiveIntegerField(verbose_name='평균가격')),
                ('num_unit', models.PositiveSmallIntegerField(verbose_name='세대수')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='rebs_project.project', verbose_name='프로젝트')),
            ],
            options={
                'verbose_name': '02. 타입 정보',
                'verbose_name_plural': '02. 타입 정보',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='UnitNumber',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bldg_no', models.CharField(blank=True, max_length=5, verbose_name='동')),
                ('bldg_unit_no', models.CharField(blank=True, max_length=5, verbose_name='호수')),
                ('bldg_line', models.PositiveSmallIntegerField(verbose_name='라인')),
                ('floor_no', models.PositiveSmallIntegerField(verbose_name='층수')),
                ('is_hold', models.BooleanField(default=False, verbose_name='홀딩 여부')),
                ('hold_reason', models.CharField(blank=True, max_length=100, verbose_name='홀딩 사유')),
                ('contract_unit', models.OneToOneField(null=True, on_delete=django.db.models.deletion.SET_NULL, to='rebs_project.contractunit', verbose_name='계약유닛')),
                ('floor_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='rebs_project.unitfloortype', verbose_name='층범위 타입')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='rebs_project.project', verbose_name='프로젝트')),
                ('unit_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='rebs_project.unittype', verbose_name='타입')),
            ],
            options={
                'verbose_name': '05. 동별 호수',
                'verbose_name_plural': '05. 동별 호수',
                'ordering': ['bldg_no', '-project'],
            },
        ),
        migrations.CreateModel(
            name='SiteOwnshipRelationship',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ownership_ratio', models.DecimalField(blank=True, decimal_places=7, max_digits=10, null=True, verbose_name='소유지분')),
                ('owned_area', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='소유면적')),
                ('acquisition_date', models.DateField(blank=True, null=True, verbose_name='소유권 취득일')),
                ('site', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='rebs_project.site')),
                ('site_owner', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='rebs_project.siteowner')),
            ],
            options={
                'verbose_name': '09. 사업부지 소유관계',
                'verbose_name_plural': '09. 사업부지 소유관계',
                'ordering': ('id',),
            },
        ),
        migrations.AddField(
            model_name='siteowner',
            name='sites',
            field=models.ManyToManyField(through='rebs_project.SiteOwnshipRelationship', to='rebs_project.Site', verbose_name='소유부지'),
        ),
        migrations.CreateModel(
            name='SiteContract',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('contract_date', models.DateField(verbose_name='계약체결일')),
                ('total_prices', models.PositiveIntegerField(verbose_name='총매매대금')),
                ('down_pay1', models.PositiveIntegerField(verbose_name='계약금1')),
                ('down_pay1_is_paid', models.BooleanField(default=False, verbose_name='계약금1 지급여부')),
                ('down_pay2', models.PositiveIntegerField(blank=True, null=True, verbose_name='계약금2')),
                ('down_pay2_date', models.DateField(blank=True, null=True, verbose_name='계약금2 지급일')),
                ('down_pay2_is_paid', models.BooleanField(default=False, verbose_name='계약금2 지급여부')),
                ('inter_pay1', models.PositiveIntegerField(blank=True, null=True, verbose_name='중도금1')),
                ('inter_pay1_date', models.DateField(blank=True, null=True, verbose_name='중도금1 지급일')),
                ('inter_pay1_is_paid', models.BooleanField(default=False, verbose_name='중도금1 지급여부')),
                ('inter_pay2', models.PositiveIntegerField(blank=True, null=True, verbose_name='중도금2')),
                ('inter_pay2_date', models.DateField(blank=True, null=True, verbose_name='중도금2 지급일')),
                ('inter_pay2_is_paid', models.BooleanField(default=False, verbose_name='중도금2 지급여부')),
                ('remain_pay', models.PositiveIntegerField(verbose_name='잔금')),
                ('remain_pay_date', models.DateField(blank=True, null=True, verbose_name='잔금 지급일')),
                ('remain_pay_is_paid', models.BooleanField(default=False, verbose_name='잔금 지급여부')),
                ('ownership_completion', models.BooleanField(default=False, verbose_name='소유권 확보여부')),
                ('acc_bank', models.CharField(max_length=20, verbose_name='은행')),
                ('acc_number', models.CharField(max_length=20, verbose_name='계좌번호')),
                ('acc_owner', models.CharField(max_length=20, verbose_name='예금주')),
                ('note', models.TextField(blank=True, verbose_name='특이사항')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='등록일')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='수정일')),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='rebs_project.siteowner', verbose_name='소유자')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='rebs_project.project', verbose_name='프로젝트')),
                ('register', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='등록자')),
            ],
            options={
                'verbose_name': '10. 사업부지 계약현황',
                'verbose_name_plural': '10. 사업부지 계약현황',
                'ordering': ('-id',),
            },
        ),
        migrations.CreateModel(
            name='ProjectBudget',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('budget', models.PositiveBigIntegerField(verbose_name='예산금액')),
                ('account_d1', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='rebs.projectaccountd1', verbose_name='예산항목1')),
                ('account_d2', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='rebs.projectaccountd2', verbose_name='예산항목2')),
                ('project', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='rebs_project.project', verbose_name='프로젝트')),
            ],
            options={
                'verbose_name': '06. 프로젝트 예산',
                'verbose_name_plural': '06. 프로젝트 예산',
                'ordering': ('account_d2', '-project'),
            },
        ),
        migrations.AddField(
            model_name='contractunit',
            name='project',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='rebs_project.project', verbose_name='프로젝트'),
        ),
        migrations.AddField(
            model_name='contractunit',
            name='unit_type',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='rebs_project.unittype', verbose_name='타입'),
        ),
    ]
